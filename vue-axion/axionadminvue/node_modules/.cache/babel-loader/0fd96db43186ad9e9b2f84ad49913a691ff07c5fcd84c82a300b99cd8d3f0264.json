{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      name: '',\n      description: '',\n      image: null,\n      newImage: null\n    };\n  },\n  methods: {\n    async fetchCategory() {\n      try {\n        const response = await axios.get(`${process.env.VUE_APP_API_URL}/categories/${this.$route.params.id}`);\n        this.name = response.data.name;\n        this.description = response.data.description;\n        this.image = `${process.env.VUE_APP_IMAGE_URL}${response.data.image}`;\n      } catch (error) {\n        console.error('Error fetching category:', error);\n        alert('Error al cargar la categoría. Inténtalo de nuevo.');\n      }\n    },\n    onFileChange(e) {\n      this.newImage = e.target.files[0];\n    },\n    async updateCategory() {\n      const formData = new FormData();\n      formData.append('name', this.name);\n      formData.append('description', this.description);\n      if (this.newImage) {\n        formData.append('image', this.newImage);\n      }\n      try {\n        await axios.put(`${process.env.VUE_APP_API_URL}/categories/${this.$route.params.id}`, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        this.$router.push('/categories');\n      } catch (error) {\n        console.error('Error updating category:', error);\n        alert('Error al actualizar la categoría. Inténtalo de nuevo.');\n      }\n    }\n  },\n  mounted() {\n    this.fetchCategory();\n  }\n};","map":{"version":3,"names":["axios","data","name","description","image","newImage","methods","fetchCategory","response","get","process","env","VUE_APP_API_URL","$route","params","id","VUE_APP_IMAGE_URL","error","console","alert","onFileChange","e","target","files","updateCategory","formData","FormData","append","put","headers","$router","push","mounted"],"sources":["C:\\Users\\a.campos\\source\\repos\\vue-axion\\axionadminvue\\src\\components\\CategoryEdit.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mt-5\">\r\n    <h2 class=\"text-center\">Editar Categoría</h2>\r\n    <div class=\"card\">\r\n      <div class=\"card-body\">\r\n        <form @submit.prevent=\"updateCategory\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"name\" class=\"form-label\">Nombre:</label>\r\n            <input \r\n              v-model=\"name\" \r\n              type=\"text\" \r\n              id=\"name\" \r\n              class=\"form-control\" \r\n              required \r\n              placeholder=\"Ingresa el nombre de la categoría\"\r\n            >\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"description\" class=\"form-label\">Descripción:</label>\r\n            <textarea \r\n              v-model=\"description\" \r\n              id=\"description\" \r\n              class=\"form-control\" \r\n              required \r\n              placeholder=\"Ingresa una descripción\"\r\n            ></textarea>\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label>Imagen Actual:</label>\r\n            <div class=\"mt-2\">\r\n              <img \r\n                v-if=\"image\" \r\n                :src=\"image\" \r\n                alt=\"Imagen Actual\" \r\n                class=\"img-thumbnail\" \r\n                style=\"width: 150px; height: auto;\"\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"image\" class=\"form-label\">Cambiar Imagen:</label>\r\n            <input \r\n              @change=\"onFileChange\" \r\n              type=\"file\" \r\n              id=\"image\" \r\n              class=\"form-control\" \r\n              accept=\"image/*\"\r\n            >\r\n          </div>\r\n          <div class=\"text-center\">\r\n            <button type=\"submit\" class=\"btn btn-primary\">Actualizar Categoría</button>\r\n            <button type=\"button\" class=\"btn btn-secondary ms-3\" @click=\"$router.push('/categories')\">Cancelar</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      name: '',\r\n      description: '',\r\n      image: null,\r\n      newImage: null\r\n    };\r\n  },\r\n  methods: {\r\n    async fetchCategory() {\r\n      try {\r\n        const response = await axios.get(`${process.env.VUE_APP_API_URL}/categories/${this.$route.params.id}`);\r\n        this.name = response.data.name;\r\n        this.description = response.data.description;\r\n        this.image = `${process.env.VUE_APP_IMAGE_URL}${response.data.image}`;\r\n      } catch (error) {\r\n        console.error('Error fetching category:', error);\r\n        alert('Error al cargar la categoría. Inténtalo de nuevo.');\r\n      }\r\n    },\r\n    onFileChange(e) {\r\n      this.newImage = e.target.files[0];\r\n    },\r\n    async updateCategory() {\r\n      const formData = new FormData();\r\n      formData.append('name', this.name);\r\n      formData.append('description', this.description);\r\n      if (this.newImage) {\r\n        formData.append('image', this.newImage);\r\n      }\r\n\r\n      try {\r\n        await axios.put(`${process.env.VUE_APP_API_URL}/categories/${this.$route.params.id}`, formData, {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n          }\r\n        });\r\n        this.$router.push('/categories');\r\n      } catch (error) {\r\n        console.error('Error updating category:', error);\r\n        alert('Error al actualizar la categoría. Inténtalo de nuevo.');\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchCategory();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n/* Puedes agregar estilos adicionales aquí si es necesario */\r\n</style>\r\n"],"mappings":";AA4DA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,EAAE;MACRC,WAAW,EAAE,EAAE;MACfC,KAAK,EAAE,IAAI;MACXC,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMR,KAAK,CAACS,GAAG,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,eAAe,eAAe,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE,EAAE,CAAC;QACtG,IAAI,CAACb,IAAG,GAAIM,QAAQ,CAACP,IAAI,CAACC,IAAI;QAC9B,IAAI,CAACC,WAAU,GAAIK,QAAQ,CAACP,IAAI,CAACE,WAAW;QAC5C,IAAI,CAACC,KAAI,GAAI,GAAGM,OAAO,CAACC,GAAG,CAACK,iBAAiB,GAAGR,QAAQ,CAACP,IAAI,CAACG,KAAK,EAAE;MACvE,EAAE,OAAOa,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;QAChDE,KAAK,CAAC,mDAAmD,CAAC;MAC5D;IACF,CAAC;IACDC,YAAYA,CAACC,CAAC,EAAE;MACd,IAAI,CAAChB,QAAO,GAAIgB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IACnC,CAAC;IACD,MAAMC,cAAcA,CAAA,EAAG;MACrB,MAAMC,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACzB,IAAI,CAAC;MAClCuB,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE,IAAI,CAACxB,WAAW,CAAC;MAChD,IAAI,IAAI,CAACE,QAAQ,EAAE;QACjBoB,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACtB,QAAQ,CAAC;MACzC;MAEA,IAAI;QACF,MAAML,KAAK,CAAC4B,GAAG,CAAC,GAAGlB,OAAO,CAACC,GAAG,CAACC,eAAe,eAAe,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE,EAAE,EAAEU,QAAQ,EAAE;UAC9FI,OAAO,EAAE;YACP,cAAc,EAAE;UAClB;QACF,CAAC,CAAC;QACF,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,aAAa,CAAC;MAClC,EAAE,OAAOd,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;QAChDE,KAAK,CAAC,uDAAuD,CAAC;MAChE;IACF;EACF,CAAC;EACDa,OAAOA,CAAA,EAAG;IACR,IAAI,CAACzB,aAAa,CAAC,CAAC;EACtB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}