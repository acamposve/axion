{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      name: '',\n      description: '',\n      categoryId: '',\n      price: '',\n      isFeatured: false,\n      image: null,\n      newImage: null\n    };\n  },\n  methods: {\n    async fetchProduct() {\n      try {\n        const response = await axios.get(`${process.env.VUE_APP_API_URL}/products/${this.$route.params.id}`);\n        const product = response.data;\n        this.name = product.name;\n        this.description = product.description;\n        this.categoryId = product.categoryId;\n        this.price = product.price;\n        this.isFeatured = product.isFeatured;\n        //this.image = product.image; // URL de la imagen\n        this.image = `${process.env.VUE_APP_IMAGE_URL}${product.image}`;\n      } catch (error) {\n        console.error('Error al obtener el producto:', error);\n        alert('Hubo un error al cargar el producto. Inténtalo de nuevo.');\n      }\n    },\n    onFileChange(e) {\n      this.newImage = e.target.files[0];\n    },\n    async updateProduct() {\n      const formData = new FormData();\n      formData.append('name', this.name);\n      formData.append('description', this.description);\n      formData.append('categoryId', this.categoryId);\n      formData.append('price', this.price);\n      formData.append('isFeatured', this.isFeatured);\n      if (this.newImage) {\n        formData.append('image', this.newImage);\n      }\n      try {\n        await axios.put(`${process.env.VUE_APP_API_URL}/products/${this.$route.params.id}`, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        this.$router.push('/products');\n      } catch (error) {\n        console.error('Error actualizando el producto:', error);\n        alert('Hubo un error al actualizar el producto. Inténtalo de nuevo.');\n      }\n    }\n  },\n  created() {\n    this.fetchProduct();\n  }\n};","map":{"version":3,"names":["axios","data","name","description","categoryId","price","isFeatured","image","newImage","methods","fetchProduct","response","get","process","env","VUE_APP_API_URL","$route","params","id","product","VUE_APP_IMAGE_URL","error","console","alert","onFileChange","e","target","files","updateProduct","formData","FormData","append","put","headers","$router","push","created"],"sources":["C:\\Users\\a.campos\\source\\repos\\vue-axion\\axionadminvue\\src\\components\\ProductEdit.vue"],"sourcesContent":["<template>\r\n    <div class=\"container mt-5\">\r\n      <h2 class=\"text-center\">Editar Producto</h2>\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <form @submit.prevent=\"updateProduct\">\r\n            <div class=\"mb-3\">\r\n              <label for=\"name\" class=\"form-label\">Nombre:</label>\r\n              <input \r\n                v-model=\"name\" \r\n                type=\"text\" \r\n                id=\"name\" \r\n                class=\"form-control\" \r\n                required \r\n                placeholder=\"Ingresa el nombre del producto\"\r\n              >\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"description\" class=\"form-label\">Descripción:</label>\r\n              <textarea \r\n                v-model=\"description\" \r\n                id=\"description\" \r\n                class=\"form-control\" \r\n                required \r\n                placeholder=\"Ingresa una descripción\"\r\n              ></textarea>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"categoryId\" class=\"form-label\">Categoría ID:</label>\r\n              <input \r\n                v-model=\"categoryId\" \r\n                type=\"number\" \r\n                id=\"categoryId\" \r\n                class=\"form-control\" \r\n                required \r\n                placeholder=\"Ingresa el ID de la categoría\"\r\n              >\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"price\" class=\"form-label\">Precio:</label>\r\n              <input \r\n                v-model=\"price\" \r\n                type=\"number\" \r\n                id=\"price\" \r\n                class=\"form-control\" \r\n                required \r\n                placeholder=\"Ingresa el precio del producto\"\r\n              >\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"isFeatured\" class=\"form-label\">Destacado:</label>\r\n              <input \r\n                type=\"checkbox\" \r\n                v-model=\"isFeatured\" \r\n                id=\"isFeatured\"\r\n              >\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label>Imagen Actual:</label>\r\n              <div class=\"mt-2\">\r\n                <img \r\n                  v-if=\"image\" \r\n                  :src=\"image\" \r\n                  alt=\"Imagen Actual\" \r\n                  class=\"img-thumbnail\" \r\n                  style=\"width: 150px; height: auto;\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"image\" class=\"form-label\">Cambiar Imagen:</label>\r\n              <input \r\n                @change=\"onFileChange\" \r\n                type=\"file\" \r\n                id=\"image\" \r\n                class=\"form-control\" \r\n                accept=\"image/*\"\r\n              >\r\n            </div>\r\n            <div class=\"text-center\">\r\n              <button type=\"submit\" class=\"btn btn-primary\">Actualizar Producto</button>\r\n              <button type=\"button\" class=\"btn btn-secondary ms-3\" @click=\"$router.push('/products')\">Cancelar</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        name: '',\r\n        description: '',\r\n        categoryId: '',\r\n        price: '',\r\n        isFeatured: false,\r\n        image: null,\r\n        newImage: null\r\n      };\r\n    },\r\n    methods: {\r\n      async fetchProduct() {\r\n        try {\r\n          const response = await axios.get(`${process.env.VUE_APP_API_URL}/products/${this.$route.params.id}`);\r\n          const product = response.data;\r\n          this.name = product.name;\r\n          this.description = product.description;\r\n          this.categoryId = product.categoryId;\r\n          this.price = product.price;\r\n          this.isFeatured = product.isFeatured;\r\n          //this.image = product.image; // URL de la imagen\r\n          this.image = `${process.env.VUE_APP_IMAGE_URL}${product.image}`;\r\n\r\n        } catch (error) {\r\n          console.error('Error al obtener el producto:', error);\r\n          alert('Hubo un error al cargar el producto. Inténtalo de nuevo.');\r\n        }\r\n      },\r\n      onFileChange(e) {\r\n        this.newImage = e.target.files[0];\r\n      },\r\n      async updateProduct() {\r\n        const formData = new FormData();\r\n        formData.append('name', this.name);\r\n        formData.append('description', this.description);\r\n        formData.append('categoryId', this.categoryId);\r\n        formData.append('price', this.price);\r\n        formData.append('isFeatured', this.isFeatured);\r\n        if (this.newImage) {\r\n          formData.append('image', this.newImage);\r\n        }\r\n  \r\n        try {\r\n          await axios.put(`${process.env.VUE_APP_API_URL}/products/${this.$route.params.id}`, formData, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data'\r\n            }\r\n          });\r\n          this.$router.push('/products');\r\n        } catch (error) {\r\n          console.error('Error actualizando el producto:', error);\r\n          alert('Hubo un error al actualizar el producto. Inténtalo de nuevo.');\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.fetchProduct();\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style>\r\n  /* Opcional: puedes añadir estilos adicionales aquí si es necesario */\r\n  </style>\r\n  "],"mappings":";AA0FE,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,EAAE;MACRC,WAAW,EAAE,EAAE;MACfC,UAAU,EAAE,EAAE;MACdC,KAAK,EAAE,EAAE;MACTC,UAAU,EAAE,KAAK;MACjBC,KAAK,EAAE,IAAI;MACXC,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,YAAYA,CAAA,EAAG;MACnB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMX,KAAK,CAACY,GAAG,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,eAAe,aAAa,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE,EAAE,CAAC;QACpG,MAAMC,OAAM,GAAIR,QAAQ,CAACV,IAAI;QAC7B,IAAI,CAACC,IAAG,GAAIiB,OAAO,CAACjB,IAAI;QACxB,IAAI,CAACC,WAAU,GAAIgB,OAAO,CAAChB,WAAW;QACtC,IAAI,CAACC,UAAS,GAAIe,OAAO,CAACf,UAAU;QACpC,IAAI,CAACC,KAAI,GAAIc,OAAO,CAACd,KAAK;QAC1B,IAAI,CAACC,UAAS,GAAIa,OAAO,CAACb,UAAU;QACpC;QACA,IAAI,CAACC,KAAI,GAAI,GAAGM,OAAO,CAACC,GAAG,CAACM,iBAAiB,GAAGD,OAAO,CAACZ,KAAK,EAAE;MAEjE,EAAE,OAAOc,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;QACrDE,KAAK,CAAC,0DAA0D,CAAC;MACnE;IACF,CAAC;IACDC,YAAYA,CAACC,CAAC,EAAE;MACd,IAAI,CAACjB,QAAO,GAAIiB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IACnC,CAAC;IACD,MAAMC,aAAaA,CAAA,EAAG;MACpB,MAAMC,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC7B,IAAI,CAAC;MAClC2B,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC5B,WAAW,CAAC;MAChD0B,QAAQ,CAACE,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC3B,UAAU,CAAC;MAC9CyB,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC1B,KAAK,CAAC;MACpCwB,QAAQ,CAACE,MAAM,CAAC,YAAY,EAAE,IAAI,CAACzB,UAAU,CAAC;MAC9C,IAAI,IAAI,CAACE,QAAQ,EAAE;QACjBqB,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACvB,QAAQ,CAAC;MACzC;MAEA,IAAI;QACF,MAAMR,KAAK,CAACgC,GAAG,CAAC,GAAGnB,OAAO,CAACC,GAAG,CAACC,eAAe,aAAa,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE,EAAE,EAAEW,QAAQ,EAAE;UAC5FI,OAAO,EAAE;YACP,cAAc,EAAE;UAClB;QACF,CAAC,CAAC;QACF,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,WAAW,CAAC;MAChC,EAAE,OAAOd,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;QACvDE,KAAK,CAAC,8DAA8D,CAAC;MACvE;IACF;EACF,CAAC;EACDa,OAAOA,CAAA,EAAG;IACR,IAAI,CAAC1B,YAAY,CAAC,CAAC;EACrB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}