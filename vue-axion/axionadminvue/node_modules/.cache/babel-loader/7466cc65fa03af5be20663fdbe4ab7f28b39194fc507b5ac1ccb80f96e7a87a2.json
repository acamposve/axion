{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      name: '',\n      description: '',\n      image: null\n    };\n  },\n  methods: {\n    onFileChange(e) {\n      this.image = e.target.files[0];\n    },\n    async createCategory() {\n      const formData = new FormData();\n      formData.append('name', this.name);\n      formData.append('description', this.description);\n      formData.append('image', this.image);\n      try {\n        await axios.post(`${process.env.VUE_APP_API_URL}/Categories/create`, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        this.$router.push('/categories');\n      } catch (error) {\n        console.error('Error creando la categoría:', error);\n        alert('Hubo un error al crear la categoría. Inténtalo de nuevo.');\n      }\n\n      // Limpiar el formulario\n      this.name = '';\n      this.description = '';\n      this.image = null;\n    }\n  }\n};","map":{"version":3,"names":["axios","data","name","description","image","methods","onFileChange","e","target","files","createCategory","formData","FormData","append","post","process","env","VUE_APP_API_URL","headers","$router","push","error","console","alert"],"sources":["C:\\Users\\a.campos\\source\\repos\\vue-axion\\axionadminvue\\src\\components\\CategoryNew.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mt-5\">\r\n    <h2 class=\"text-center\">Crear Nueva Categoría</h2>\r\n    <div class=\"card\">\r\n      <div class=\"card-body\">\r\n        <form @submit.prevent=\"createCategory\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"name\" class=\"form-label\">Nombre:</label>\r\n            <input \r\n              v-model=\"name\" \r\n              type=\"text\" \r\n              id=\"name\" \r\n              class=\"form-control\" \r\n              required \r\n              placeholder=\"Ingresa el nombre de la categoría\"\r\n            >\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"description\" class=\"form-label\">Descripción:</label>\r\n            <textarea \r\n              v-model=\"description\" \r\n              id=\"description\" \r\n              class=\"form-control\" \r\n              required \r\n              placeholder=\"Ingresa una descripción\"\r\n            ></textarea>\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"image\" class=\"form-label\">Imagen:</label>\r\n            <input \r\n              @change=\"onFileChange\" \r\n              type=\"file\" \r\n              id=\"image\" \r\n              class=\"form-control\" \r\n              accept=\"image/*\"\r\n            >\r\n          </div>\r\n          <div class=\"text-center\">\r\n            <button type=\"submit\" class=\"btn btn-primary\">Crear Categoría</button>\r\n            <button type=\"button\" class=\"btn btn-secondary ms-3\" @click=\"$router.push('/categories')\">Cancelar</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      name: '',\r\n      description: '',\r\n      image: null\r\n    };\r\n  },\r\n  methods: {\r\n    onFileChange(e) {\r\n      this.image = e.target.files[0];\r\n    },\r\n    async createCategory() {\r\n      const formData = new FormData();\r\n      formData.append('name', this.name);\r\n      formData.append('description', this.description);\r\n      formData.append('image', this.image);\r\n\r\n      try {\r\n        await axios.post(`${process.env.VUE_APP_API_URL}/Categories/create`, formData, {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n          }\r\n        });\r\n        this.$router.push('/categories');\r\n      } catch (error) {\r\n        console.error('Error creando la categoría:', error);\r\n        alert('Hubo un error al crear la categoría. Inténtalo de nuevo.');\r\n      }\r\n\r\n      // Limpiar el formulario\r\n      this.name = '';\r\n      this.description = '';\r\n      this.image = null;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n/* Opcional: puedes añadir estilos adicionales aquí si es necesario */\r\n</style>\r\n"],"mappings":";AAgDA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,EAAE;MACRC,WAAW,EAAE,EAAE;MACfC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,YAAYA,CAACC,CAAC,EAAE;MACd,IAAI,CAACH,KAAI,GAAIG,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAChC,CAAC;IACD,MAAMC,cAAcA,CAAA,EAAG;MACrB,MAAMC,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACX,IAAI,CAAC;MAClCS,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE,IAAI,CAACV,WAAW,CAAC;MAChDQ,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACT,KAAK,CAAC;MAEpC,IAAI;QACF,MAAMJ,KAAK,CAACc,IAAI,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,eAAe,oBAAoB,EAAEN,QAAQ,EAAE;UAC7EO,OAAO,EAAE;YACP,cAAc,EAAE;UAClB;QACF,CAAC,CAAC;QACF,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,aAAa,CAAC;MAClC,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;QACnDE,KAAK,CAAC,0DAA0D,CAAC;MACnE;;MAEA;MACA,IAAI,CAACrB,IAAG,GAAI,EAAE;MACd,IAAI,CAACC,WAAU,GAAI,EAAE;MACrB,IAAI,CAACC,KAAI,GAAI,IAAI;IACnB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}