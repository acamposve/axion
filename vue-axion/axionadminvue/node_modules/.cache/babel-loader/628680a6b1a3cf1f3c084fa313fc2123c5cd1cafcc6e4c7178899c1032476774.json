{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelCheckbox as _vModelCheckbox, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-5\"\n};\nconst _hoisted_2 = {\n  class: \"card\"\n};\nconst _hoisted_3 = {\n  class: \"card-body\"\n};\nconst _hoisted_4 = {\n  class: \"mb-3\"\n};\nconst _hoisted_5 = {\n  class: \"mb-3\"\n};\nconst _hoisted_6 = {\n  class: \"mb-3\"\n};\nconst _hoisted_7 = {\n  class: \"mb-3\"\n};\nconst _hoisted_8 = {\n  class: \"mb-3\"\n};\nconst _hoisted_9 = {\n  class: \"mb-3\"\n};\nconst _hoisted_10 = {\n  class: \"mt-2\"\n};\nconst _hoisted_11 = [\"src\"];\nconst _hoisted_12 = {\n  class: \"mb-3\"\n};\nconst _hoisted_13 = {\n  class: \"text-center\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[16] || (_cache[16] = _createElementVNode(\"h2\", {\n    class: \"text-center\"\n  }, \"Editar Producto\", -1)), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"form\", {\n    onSubmit: _cache[7] || (_cache[7] = _withModifiers((...args) => $options.updateProduct && $options.updateProduct(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_4, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", {\n    for: \"name\",\n    class: \"form-label\"\n  }, \"Nombre:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.name = $event),\n    type: \"text\",\n    id: \"name\",\n    class: \"form-control\",\n    required: \"\",\n    placeholder: \"Ingresa el nombre del producto\"\n  }, null, 512), [[_vModelText, $data.name]])]), _createElementVNode(\"div\", _hoisted_5, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    for: \"description\",\n    class: \"form-label\"\n  }, \"Descripción:\", -1)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.description = $event),\n    id: \"description\",\n    class: \"form-control\",\n    required: \"\",\n    placeholder: \"Ingresa una descripción\"\n  }, null, 512), [[_vModelText, $data.description]])]), _createElementVNode(\"div\", _hoisted_6, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    for: \"categoryId\",\n    class: \"form-label\"\n  }, \"Categoría ID:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.categoryId = $event),\n    type: \"number\",\n    id: \"categoryId\",\n    class: \"form-control\",\n    required: \"\",\n    placeholder: \"Ingresa el ID de la categoría\"\n  }, null, 512), [[_vModelText, $data.categoryId]])]), _createElementVNode(\"div\", _hoisted_7, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n    for: \"price\",\n    class: \"form-label\"\n  }, \"Precio:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.price = $event),\n    type: \"number\",\n    id: \"price\",\n    class: \"form-control\",\n    required: \"\",\n    placeholder: \"Ingresa el precio del producto\"\n  }, null, 512), [[_vModelText, $data.price]])]), _createElementVNode(\"div\", _hoisted_8, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n    for: \"isFeatured\",\n    class: \"form-label\"\n  }, \"Destacado:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.isFeatured = $event),\n    id: \"isFeatured\"\n  }, null, 512), [[_vModelCheckbox, $data.isFeatured]])]), _createElementVNode(\"div\", _hoisted_9, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", null, \"Imagen Actual:\", -1)), _createElementVNode(\"div\", _hoisted_10, [$data.image ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $data.image,\n    alt: \"Imagen Actual\",\n    class: \"img-thumbnail\",\n    style: {\n      \"width\": \"150px\",\n      \"height\": \"auto\"\n    }\n  }, null, 8, _hoisted_11)) : _createCommentVNode(\"\", true)])]), _createElementVNode(\"div\", _hoisted_12, [_cache[14] || (_cache[14] = _createElementVNode(\"label\", {\n    for: \"image\",\n    class: \"form-label\"\n  }, \"Cambiar Imagen:\", -1)), _createElementVNode(\"input\", {\n    onChange: _cache[5] || (_cache[5] = (...args) => $options.onFileChange && $options.onFileChange(...args)),\n    type: \"file\",\n    id: \"image\",\n    class: \"form-control\",\n    accept: \"image/*\"\n  }, null, 32)]), _createElementVNode(\"div\", _hoisted_13, [_cache[15] || (_cache[15] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary\"\n  }, \"Actualizar Producto\", -1)), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary ms-3\",\n    onClick: _cache[6] || (_cache[6] = $event => _ctx.$router.push('/products'))\n  }, \"Cancelar\")])], 32)])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","onSubmit","_cache","_withModifiers","args","$options","updateProduct","_hoisted_4","for","$event","$data","name","type","id","required","placeholder","_hoisted_5","description","_hoisted_6","categoryId","_hoisted_7","price","_hoisted_8","isFeatured","_hoisted_9","_hoisted_10","image","key","src","alt","style","_hoisted_11","_createCommentVNode","_hoisted_12","onChange","onFileChange","accept","_hoisted_13","onClick","_ctx","$router","push"],"sources":["C:\\Users\\a.campos\\source\\repos\\vue-axion\\axionadminvue\\src\\components\\ProductEdit.vue"],"sourcesContent":["<template>\r\n    <div class=\"container mt-5\">\r\n      <h2 class=\"text-center\">Editar Producto</h2>\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <form @submit.prevent=\"updateProduct\">\r\n            <div class=\"mb-3\">\r\n              <label for=\"name\" class=\"form-label\">Nombre:</label>\r\n              <input \r\n                v-model=\"name\" \r\n                type=\"text\" \r\n                id=\"name\" \r\n                class=\"form-control\" \r\n                required \r\n                placeholder=\"Ingresa el nombre del producto\"\r\n              >\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"description\" class=\"form-label\">Descripción:</label>\r\n              <textarea \r\n                v-model=\"description\" \r\n                id=\"description\" \r\n                class=\"form-control\" \r\n                required \r\n                placeholder=\"Ingresa una descripción\"\r\n              ></textarea>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"categoryId\" class=\"form-label\">Categoría ID:</label>\r\n              <input \r\n                v-model=\"categoryId\" \r\n                type=\"number\" \r\n                id=\"categoryId\" \r\n                class=\"form-control\" \r\n                required \r\n                placeholder=\"Ingresa el ID de la categoría\"\r\n              >\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"price\" class=\"form-label\">Precio:</label>\r\n              <input \r\n                v-model=\"price\" \r\n                type=\"number\" \r\n                id=\"price\" \r\n                class=\"form-control\" \r\n                required \r\n                placeholder=\"Ingresa el precio del producto\"\r\n              >\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"isFeatured\" class=\"form-label\">Destacado:</label>\r\n              <input \r\n                type=\"checkbox\" \r\n                v-model=\"isFeatured\" \r\n                id=\"isFeatured\"\r\n              >\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label>Imagen Actual:</label>\r\n              <div class=\"mt-2\">\r\n                <img \r\n                  v-if=\"image\" \r\n                  :src=\"image\" \r\n                  alt=\"Imagen Actual\" \r\n                  class=\"img-thumbnail\" \r\n                  style=\"width: 150px; height: auto;\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"image\" class=\"form-label\">Cambiar Imagen:</label>\r\n              <input \r\n                @change=\"onFileChange\" \r\n                type=\"file\" \r\n                id=\"image\" \r\n                class=\"form-control\" \r\n                accept=\"image/*\"\r\n              >\r\n            </div>\r\n            <div class=\"text-center\">\r\n              <button type=\"submit\" class=\"btn btn-primary\">Actualizar Producto</button>\r\n              <button type=\"button\" class=\"btn btn-secondary ms-3\" @click=\"$router.push('/products')\">Cancelar</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        name: '',\r\n        description: '',\r\n        categoryId: '',\r\n        price: '',\r\n        isFeatured: false,\r\n        image: null,\r\n        newImage: null\r\n      };\r\n    },\r\n    methods: {\r\n      async fetchProduct() {\r\n        try {\r\n          const response = await axios.get(`${process.env.VUE_APP_API_URL}/products/${this.$route.params.id}`);\r\n          const product = response.data;\r\n          this.name = product.name;\r\n          this.description = product.description;\r\n          this.categoryId = product.categoryId;\r\n          this.price = product.price;\r\n          this.isFeatured = product.isFeatured;\r\n          //this.image = product.image; // URL de la imagen\r\n          this.image = `${process.env.VUE_APP_IMAGE_URL}${product.image}`;\r\n\r\n        } catch (error) {\r\n          console.error('Error al obtener el producto:', error);\r\n          alert('Hubo un error al cargar el producto. Inténtalo de nuevo.');\r\n        }\r\n      },\r\n      onFileChange(e) {\r\n        this.newImage = e.target.files[0];\r\n      },\r\n      async updateProduct() {\r\n        const formData = new FormData();\r\n        formData.append('name', this.name);\r\n        formData.append('description', this.description);\r\n        formData.append('categoryId', this.categoryId);\r\n        formData.append('price', this.price);\r\n        formData.append('isFeatured', this.isFeatured);\r\n        if (this.newImage) {\r\n          formData.append('image', this.newImage);\r\n        }\r\n  \r\n        try {\r\n          await axios.put(`${process.env.VUE_APP_API_URL}/products/${this.$route.params.id}`, formData, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data'\r\n            }\r\n          });\r\n          this.$router.push('/products');\r\n        } catch (error) {\r\n          console.error('Error actualizando el producto:', error);\r\n          alert('Hubo un error al actualizar el producto. Inténtalo de nuevo.');\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.fetchProduct();\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style>\r\n  /* Opcional: puedes añadir estilos adicionales aquí si es necesario */\r\n  </style>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}