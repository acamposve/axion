"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[640],{640:(M,c,s)=>{s.r(c),s.d(c,{LoginPageModule:()=>P});var d=s(177),l=s(4341),r=s(4742),p=s(8986),m=s(467),o=s(4438),h=s(1626);let f=(()=>{var e;class a{constructor(n){this.http=n,this.apiUrl="https://amontefusco-002-site1.ktempurl.com/api"}getCategories(){return this.http.get(`${this.apiUrl}/categorias`)}getProducts(){return this.http.get(`${this.apiUrl}/productos`)}login(n){return this.http.post(`${this.apiUrl}/Auth/login`,n)}}return(e=a).\u0275fac=function(n){return new(n||e)(o.KVO(h.Qq))},e.\u0275prov=o.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})();const L=[{path:"",component:(()=>{var e;class a{constructor(n,i,u){this.apiService=n,this.router=i,this.toastController=u,this.phoneNumber="",this.password=""}login(){var n=this;return(0,m.A)(function*(){const i={phoneNumber:n.phoneNumber,password:n.password};console.log("LoginData from API:",i),console.log("Login Data:",JSON.stringify(i)),n.apiService.login(i).subscribe(function(){var u=(0,m.A)(function*(t){console.log("Response from API:",t),t&&"Login successful."===t.message?(localStorage.setItem("fullName",t.fullName),n.router.navigate(["/home"])):(yield n.toastController.create({message:t.message||"Error al iniciar sesi\xf3n",duration:2e3,color:"danger"})).present()});return function(t){return u.apply(this,arguments)}}())})()}}return(e=a).\u0275fac=function(n){return new(n||e)(o.rXU(f),o.rXU(p.Ix),o.rXU(r.K_))},e.\u0275cmp=o.VBU({type:e,selectors:[["app-login"]],decls:16,vars:2,consts:[[3,"ngSubmit"],["position","floating"],["name","phoneNumber","required","",3,"ngModelChange","ngModel"],["name","password","type","password","required","",3,"ngModelChange","ngModel"],["expand","full","type","submit"]],template:function(n,i){1&n&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3,"Login"),o.k0s()()(),o.j41(4,"ion-content")(5,"form",0),o.bIt("ngSubmit",function(){return i.login()}),o.j41(6,"ion-item")(7,"ion-label",1),o.EFF(8,"N\xfamero de celular"),o.k0s(),o.j41(9,"ion-input",2),o.mxI("ngModelChange",function(t){return o.DH7(i.phoneNumber,t)||(i.phoneNumber=t),t}),o.k0s()(),o.j41(10,"ion-item")(11,"ion-label",1),o.EFF(12,"Contrase\xf1a"),o.k0s(),o.j41(13,"ion-input",3),o.mxI("ngModelChange",function(t){return o.DH7(i.password,t)||(i.password=t),t}),o.k0s()(),o.j41(14,"ion-button",4),o.EFF(15,"Iniciar Sesi\xf3n"),o.k0s()()()),2&n&&(o.R7$(9),o.R50("ngModel",i.phoneNumber),o.R7$(4),o.R50("ngModel",i.password))},dependencies:[l.qT,l.BC,l.cb,l.YS,l.vS,l.cV,r.Jm,r.W9,r.eU,r.$w,r.uz,r.he,r.BC,r.ai,r.Gw]}),a})()}];let v=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[p.iI.forChild(L),p.iI]}),a})(),P=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[d.MD,l.YN,r.bv,v]}),a})()}}]);